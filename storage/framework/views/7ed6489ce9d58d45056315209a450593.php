

<?php $__env->startSection('title', 'Yêu thích - OTOD'); ?>

<?php $__env->startSection('content'); ?>
    <div class="container w-100" style="margin-left: auto; max-width: 800px">
        <h5 class="fw-bold mb-4">Yêu thích</h5>

        
        <div class="favorites-list">
            
            <div class="favorite-car-card mb-3" data-car-id="1">
                <div class="car-card-container">
                    <div class="car-card-content">
                        
                        <div class="car-header">
                            
                            <div class="car-image-wrapper">
                                <img src="<?php echo e(asset('/assets/images/16993071-blue-mid-size-urban-family-sedan-white-uniform-background-3d-rendering 1.png')); ?>" 
                                     alt="Mazda 3 2008" 
                                     class="car-image">
                            </div>
                            
                            
                            <div class="car-info">
                                
                                <div class="car-title-row">
                                    <h6 class="car-title">Mazda 3 2008</h6>
                                    <button class="favorite-btn active" onclick="toggleFavorite(this, 1)">
                                        <i class="bi bi-heart-fill"></i>
                                    </button>
                                </div>
                                
                                
                                <div class="car-details">
                                    
                                    <div class="car-location">
                                        <i class="bi bi-geo-alt"></i>
                                        <span>Quận 3</span>
                                    </div>
                                    
                                    
                                    <div class="car-features">
                                        <div class="feature-row">
                                            <div class="feature-item">
                                                <i class="bi bi-gear-fill"></i>
                                                <span>Số tự động</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-people-fill"></i>
                                                <span>4 chỗ</span>
                                            </div>
                                        </div>
                                        <div class="feature-row">
                                            <div class="feature-item">
                                                <i class="bi bi-fuel-pump-fill"></i>
                                                <span>Xăng</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-speedometer2"></i>
                                                <span>5L/100km</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="car-footer">
                            <div class="price-info">
                                <div class="original-price">976.000đ</div>
                                <div class="current-price-row">
                                    <span class="current-price">856.000đ</span>
                                    <span class="price-unit">/ngày</span>
                                </div>
                                <div class="price-note">Giá chưa bao gồm VAT</div>
                            </div>
                            <div class="rent-action">
                                <button class="btn-rent" onclick="rentCar(1)" style="white-space: nowrap;">
                                    Thuê xe
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="favorite-car-card mb-3" data-car-id="2">
                <div class="car-card-container">
                    <div class="car-card-content">
                        
                        <div class="car-header">
                            
                            <div class="car-image-wrapper">
                                <img src="<?php echo e(asset('/assets/images/16993071-blue-mid-size-urban-family-sedan-white-uniform-background-3d-rendering 1.png')); ?>" 
                                     alt="Mazda 3 2008" 
                                     class="car-image">
                            </div>
                            
                            
                            <div class="car-info">
                                
                                <div class="car-title-row">
                                    <h6 class="car-title">Mazda 3 2008</h6>
                                    <button class="favorite-btn active" onclick="toggleFavorite(this, 2)">
                                        <i class="bi bi-heart-fill"></i>
                                    </button>
                                </div>
                                
                                
                                <div class="car-details">
                                    
                                    <div class="car-location">
                                        <i class="bi bi-geo-alt"></i>
                                        <span>Quận 3</span>
                                    </div>
                                    
                                    
                                    <div class="car-features">
                                        <div class="feature-row">
                                            <div class="feature-item">
                                                <i class="bi bi-gear-fill"></i>
                                                <span>Số tự động</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-people-fill"></i>
                                                <span>4 chỗ</span>
                                            </div>
                                        </div>
                                        <div class="feature-row">
                                            <div class="feature-item">
                                                <i class="bi bi-fuel-pump-fill"></i>
                                                <span>Xăng</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-speedometer2"></i>
                                                <span>5L/100km</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="car-footer">
                            <div class="price-info">
                                <div class="original-price">976.000đ</div>
                                <div class="current-price-row">
                                    <span class="current-price">856.000đ</span>
                                    <span class="price-unit">/ngày</span>
                                </div>
                                <div class="price-note">Giá chưa bao gồm VAT</div>
                            </div>
                            <div class="rent-action">
                                <button class="btn-rent" onclick="rentCar(2)" style="white-space: nowrap;">
                                    Thuê xe
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="favorite-car-card mb-3" data-car-id="3">
                <div class="car-card-container">
                    <div class="car-card-content">
                        
                        <div class="car-header">
                            
                            <div class="car-image-wrapper">
                                <img src="<?php echo e(asset('/assets/images/16993071-blue-mid-size-urban-family-sedan-white-uniform-background-3d-rendering 1.png')); ?>" 
                                     alt="Mazda 3 2008" 
                                     class="car-image">
                            </div>
                            
                            
                            <div class="car-info">
                                
                                <div class="car-title-row">
                                    <h6 class="car-title">Mazda 3 2008</h6>
                                    <button class="favorite-btn active" onclick="toggleFavorite(this, 3)">
                                        <i class="bi bi-heart-fill"></i>
                                    </button>
                                </div>
                                
                                
                                <div class="car-details">
                                    
                                    <div class="car-location">
                                        <i class="bi bi-geo-alt"></i>
                                        <span>Quận 3</span>
                                    </div>
                                    
                                    
                                    <div class="car-features">
                                        <div class="feature-row">
                                            <div class="feature-item">
                                                <i class="bi bi-gear-fill"></i>
                                                <span>Số tự động</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-people-fill"></i>
                                                <span>4 chỗ</span>
                                            </div>
                                        </div>
                                        <div class="feature-row">
                                            <div class="feature-item">
                                                <i class="bi bi-fuel-pump-fill"></i>
                                                <span>Xăng</span>
                                            </div>
                                            <div class="feature-item">
                                                <i class="bi bi-speedometer2"></i>
                                                <span>5L/100km</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="car-footer">
                            <div class="price-info">
                                <div class="original-price">976.000đ</div>
                                <div class="current-price-row">
                                    <span class="current-price">856.000đ</span>
                                    <span class="price-unit">/ngày</span>
                                </div>
                                <div class="price-note">Giá chưa bao gồm VAT</div>
                            </div>
                            <div class="rent-action">
                                <button class="btn-rent" onclick="rentCar(3)" style="white-space: nowrap;">
                                    Thuê xe
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<?php $__env->stopSection(); ?>

<?php $__env->startSection('styles'); ?>
<style>
    /* Font import */
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600&display=swap');

    .favorite-car-card {
        margin-bottom: 12px;
    }

    .car-card-container {
        align-self: stretch;
        padding: 12px;
        background: white;
        overflow: hidden;
        border-radius: 6px;
        border: 1px solid #EAEAEA;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 10px;
    }

    .car-card-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 13px;
    }

    .car-header {
        align-self: stretch;
        display: flex;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 16px;
    }

    .car-image-wrapper {
        width: 102px;
        height: 102px;
        flex-shrink: 0;
    }

    .car-image {
        width: 102px;
        height: 102px;
        border-radius: 8.05px;
        object-fit: cover;
    }

    .car-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 6px;
    }

    .car-title-row {
        align-self: stretch;
        height: 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .car-title {
        margin: 0;
        color: #0A0A0A;
        font-size: 16px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 600;
        line-height: 24px;
        word-wrap: break-word;
    }

    .favorite-btn {
        width: 18px;
        height: 18px;
        background: transparent;
        border: none;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
    }

    .favorite-btn.active i {
        color: #DC2626;
        font-size: 16px;
    }

    .favorite-btn:not(.active) i {
        color: #6c757d;
        font-size: 16px;
    }

    .car-details {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 12px;
    }

    .car-location {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        gap: 4px;
    }

    .car-location i {
        width: 14px;
        height: 14px;
        color: #2B4896;
        font-size: 14px;
    }

    .car-location span {
        color: #0A0A0A;
        font-size: 14px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 400;
        line-height: 20px;
        word-wrap: break-word;
    }

    .car-features {
        width: 192px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 8px;
    }

    .feature-row {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        gap: 24px;
    }

    .feature-item {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        gap: 6px;
    }

    .feature-item i {
        width: 21px;
        height: 21px;
        color: #2B4896;
        font-size: 16px;
    }

    .feature-item span {
        color: #0A0A0A;
        font-size: 14px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 400;
        line-height: 20px;
        word-wrap: break-word;
    }

    .car-footer {
        align-self: stretch;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .price-info {
        background: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
    }

    .original-price {
        color: #797979;
        font-size: 14px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 400;
        text-decoration: line-through;
        line-height: 20px;
        word-wrap: break-word;
    }

    .current-price-row {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        gap: 2px;
    }

    .current-price {
        color: #0A0A0A;
        font-size: 16px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 600;
        line-height: 24px;
        word-wrap: break-word;
    }

    .price-unit {
        color: #737272;
        font-size: 14px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 400;
        line-height: 20px;
        word-wrap: break-word;
    }

    .price-note {
        color: #737272;
        font-size: 14px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 400;
        line-height: 20px;
        word-wrap: break-word;
    }

    .btn-rent {
        width: 118px;
        padding: 10px 48px;
        background: #2B4896;
        border-radius: 6px;
        border: none;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        text-align: center;
        color: white;
        font-size: 16px;
        font-family: 'Be Vietnam Pro', sans-serif;
        font-weight: 600;
        line-height: 30px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-rent:hover {
        background: #1e2a6b;
        color: white;
        transform: translateY(-1px);
    }

    .empty-favorites {
        margin-top: 3rem;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
        .car-card-container {
            padding: 16px;
        }

        .car-header {
            gap: 12px;
        }
        
        .car-image-wrapper,
        .car-image {
            width: 100px;
            height: 100px;
        }
        
        .car-features {
            width: 100%;
        }
        
        .feature-row {
            gap: 16px;
        }
        
        .car-footer {
            margin-top: 8px;
        }
        
        .btn-rent {
            padding: 8px 24px;
            font-size: 14px;
            line-height: 24px;
            min-width: 100px;
            white-space: nowrap;
        }

        .car-title {
            font-size: 15px;
        }

        .car-location span,
        .feature-item span {
            font-size: 13px;
        }

        .original-price,
        .price-unit,
        .price-note {
            font-size: 13px;
        }

        .current-price {
            font-size: 15px;
        }
    }

    @media (max-width: 576px) {
        .car-card-container {
            padding: 12px;
        }

        .car-header {
            gap: 10px;
        }

        .car-image-wrapper,
        .car-image {
            width: 80px;
            height: 80px;
        }
        
        .feature-row {
            gap: 12px;
        }
        
        .feature-item {
            justify-content: flex-start;
        }

        .feature-item i {
            width: 18px;
            height: 18px;
            font-size: 14px;
        }

        .btn-rent {
            padding: 6px 20px;
            font-size: 13px;
            line-height: 22px;
            min-width: 90px;
        }

        .car-title {
            font-size: 14px;
            line-height: 20px;
        }

        .car-location span,
        .feature-item span {
            font-size: 12px;
            line-height: 18px;
        }

        .original-price,
        .price-unit,
        .price-note {
            font-size: 12px;
            line-height: 18px;
        }

        .current-price {
            font-size: 14px;
            line-height: 20px;
        }
    }
</style>
<?php $__env->stopSection(); ?>

<?php $__env->startSection('scripts'); ?>
<script>
    function toggleFavorite(button, carId) {
        const icon = button.querySelector('i');
        const isActive = button.classList.contains('active');
        
        if (isActive) {
            // Remove from favorites
            button.classList.remove('active');
            icon.classList.remove('bi-heart-fill');
            icon.classList.add('bi-heart');
            
            // Update backend
            updateFavoriteStatus(carId, false);
            
            // Optional: Add animation to remove the card
            const card = button.closest('.favorite-car-card');
            card.style.transition = 'all 0.3s ease';
            card.style.transform = 'translateX(-100%)';
            card.style.opacity = '0';
            
            setTimeout(() => {
                card.remove();
                
                // Check if no more favorites
                const remainingCards = document.querySelectorAll('.favorite-car-card');
                if (remainingCards.length === 0) {
                    // Show empty state
                    const emptyDiv = document.createElement('div');
                    emptyDiv.className = 'empty-favorites text-center py-5';
                    emptyDiv.innerHTML = `
                        <i class="bi bi-heart text-muted" style="font-size: 4rem;"></i>
                        <h5 class="text-muted mt-3">Chưa có xe yêu thích</h5>
                        <p class="text-muted">Hãy thêm những chiếc xe bạn yêu thích để dễ dàng tìm lại sau này</p>
                        <a href="<?php echo e(route('home')); ?>" class="btn btn-primary">Khám phá xe</a>
                    `;
                    document.querySelector('.favorites-list').appendChild(emptyDiv);
                }
            }, 300);
            
        } else {
            // Add to favorites
            button.classList.add('active');
            icon.classList.remove('bi-heart');
            icon.classList.add('bi-heart-fill');
            
            // Update backend
            updateFavoriteStatus(carId, true);
        }
    }

    // Function to handle car rental
    function rentCar(carId) {
        // Redirect to car detail page
        window.location.href = '/car-detail?id=' + carId;
    }

    // Function to simulate favorite status update (UI only)
    function updateFavoriteStatus(carId, isFavorite) {
        // Just for UI feedback - no backend call
        console.log(`Car ${carId} favorite status: ${isFavorite ? 'Added' : 'Removed'}`);
        
        // Optional: Show a simple message
        const message = isFavorite ? 'Đã thêm vào yêu thích' : 'Đã xóa khỏi yêu thích';
        
        // Simple toast-like notification (optional)
        const toast = document.createElement('div');
        toast.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 9999;
            font-size: 14px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        `;
        toast.textContent = message;
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.remove();
        }, 2000);
    }
</script>
<?php $__env->stopSection(); ?>

<?php echo $__env->make('layouts.layout-with-sidebar', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH D:\Source Web\otod-github\otod\resources\views/favorites.blade.php ENDPATH**/ ?>